(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function r(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?s.credentials="include":e.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(e){if(e.ep)return;e.ep=!0;const s=r(e);fetch(e.href,s)}})();const l="/simple-signup-form/back/controller/";class c{async addUser(t){console.log(t);try{return await fetch(l+"SignUpController.php",{method:"POST",body:t})}catch(r){return console.error(r),Promise.reject(r)}}async getUserByEmail(){try{return await fetch(l+"SignInController.php",{method:"GET"})}catch(t){return console.error(t),Promise.reject(t)}}}class a{constructor(){this.userRepository=new c}async signUp(t){t.preventDefault();try{const r=new FormData(t.target);return await(await this.userRepository.addUser(r)).json()}catch(r){console.error("Error:",r)}}}const u=document.getElementById("signup-form");u.addEventListener("submit",n=>d(n));async function d(n){n.preventDefault();const t=document.querySelectorAll(".input-field");if(p(t)){const o=await new a().signUp(n);console.log(o)}}document.getElementById("form-feedback");function p(n){let t=!0;for(let r=0;r<n.length;r++){let o=n[r],e=o.nextElementSibling;o.value.trim()===""?(e.textContent="Required field",e.style.display="block",t=!1):o.name==="password"&&(o.value.length<6||o.value.length>10)?(e.textContent="The password must be 4 to 8 characters long.",e.style.display="block",t=!1):o.name==="email"&&!o.value.match(/^[\w-]+(\.[\w-]+)*@([\w-]+\.)+[a-zA-Z]{2,7}$/)?(e.textContent="Please enter a valid email address.",e.style.display="block",t=!1):(e.textContent="",e.style.display="none")}return t}
